# ============================================
# VARIABLES DE ENTORNO - PRODUCCIÓN
# ============================================
# Este archivo es solo una referencia
# NUNCA commitees archivos .env con valores reales
# Configura estas variables en tu plataforma de deployment (Railway/Render/Vercel)

# ============================================
# BACKEND (Railway/Render)
# ============================================

# --------------------------------------------
# BASE DE DATOS (Neon)
# --------------------------------------------
# Obtén esta URL desde: https://console.neon.tech
# Ve a tu proyecto → Connection Details → Connection String
DATABASE_URL=postgresql://usuario:password@ep-xxx-xxx.us-east-1.aws.neon.tech/neondb?sslmode=require

# --------------------------------------------
# JWT (Autenticación)
# --------------------------------------------
# Genera un secreto seguro con: openssl rand -base64 32
# MÍNIMO 32 caracteres en producción
JWT_SECRET=tu-clave-secreta-super-segura-minimo-32-caracteres-genera-con-openssl-rand-base64-32
JWT_EXPIRES_IN=7d

# --------------------------------------------
# SERVIDOR
# --------------------------------------------
PORT=4000
NODE_ENV=production

# --------------------------------------------
# FRONTEND URL
# --------------------------------------------
# URL de tu frontend en Vercel (sin barra final)
# Ejemplo: https://tu-proyecto.vercel.app
FRONTEND_URL=https://tu-proyecto.vercel.app

# --------------------------------------------
# CLOUDINARY (Imágenes y Videos)
# --------------------------------------------
# Obtén estas credenciales en: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=tu-cloud-name
CLOUDINARY_API_KEY=tu-api-key
CLOUDINARY_API_SECRET=tu-api-secret

# --------------------------------------------
# REDIS (Cola de Notificaciones - Bull)
# --------------------------------------------
# Opción 1: Upstash (Recomendado)
# Obtén la URL desde: https://upstash.com
REDIS_HOST=tu-redis-host.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=tu-redis-password
REDIS_DB=0

# Opción 2: Railway Redis
# Railway genera estas variables automáticamente si agregas Redis como servicio

# --------------------------------------------
# EMAIL
# --------------------------------------------
# Opción 1: SendGrid (Recomendado)
# Obtén la API Key desde: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.tu-api-key-aqui

# Opción 2: SMTP (Gmail)
# Para Gmail, necesitas una App Password: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=tu-email@gmail.com
SMTP_PASSWORD=tu-app-password

# --------------------------------------------
# MERCADO PAGO (Pagos)
# --------------------------------------------
# Obtén estas credenciales en: https://www.mercadopago.com.ar/developers/panel
# 1. Ve a tu aplicación en el panel de desarrolladores
# 2. Ve a "Credenciales" → "Credenciales de producción"
# 3. Copia el Access Token que empieza con "PROD-"
# 
# IMPORTANTE EN PRODUCCIÓN:
# - MERCADO_PAGO_ACCESS_TOKEN debe empezar con "PROD-" (no "TEST-")
# - MERCADO_PAGO_TEST_MODE debe ser "false"
MERCADO_PAGO_ACCESS_TOKEN=PROD-tu-token-de-produccion-aqui
MERCADO_PAGO_TEST_MODE=false

# --------------------------------------------
# GOOGLE OAUTH (Autenticación con Google)
# --------------------------------------------
# Obtén estas credenciales en: https://console.cloud.google.com/
# 1. Ve a APIs & Services > Credentials
# 2. Crea OAuth 2.0 Client ID (Web application)
# 3. Configura Authorized redirect URIs:
#    - Producción: https://tu-backend.railway.app/api/auth/invitado/google/callback
GOOGLE_CLIENT_ID=tu-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=tu-client-secret
GOOGLE_CALLBACK_URL=/api/auth/invitado/google/callback

# ============================================
# FRONTEND (Vercel)
# ============================================

# --------------------------------------------
# API BACKEND
# --------------------------------------------
# URL de tu backend en Railway/Render (con /api al final)
# Ejemplo: https://tu-backend.railway.app/api
NEXT_PUBLIC_API_URL=https://tu-backend.railway.app/api

# --------------------------------------------
# BASE DE DATOS (Opcional)
# --------------------------------------------
# Generalmente NO es necesario en el frontend
# El frontend se comunica con el backend a través de NEXT_PUBLIC_API_URL
# Solo agrega esto si necesitas acceso directo a la BD desde el frontend
# DATABASE_URL=postgresql://usuario:password@ep-xxx-xxx.us-east-1.aws.neon.tech/neondb?sslmode=require

# ============================================
# NOTAS IMPORTANTES
# ============================================

# 1. SEGURIDAD:
#    - NUNCA commitees archivos .env con valores reales
#    - Usa variables de entorno en tu plataforma de deployment
#    - JWT_SECRET debe tener al menos 32 caracteres
#    - DATABASE_URL debe incluir ?sslmode=require para Neon

# 2. CONFIGURACIÓN:
#    - Backend: Configura estas variables en Railway/Render
#    - Frontend: Configura NEXT_PUBLIC_API_URL en Vercel
#    - FRONTEND_URL en backend debe coincidir con la URL de Vercel

# 3. VERIFICACIÓN:
#    - Verifica que todas las variables estén configuradas antes de deployar
#    - Prueba la conexión a la base de datos después del deployment
#    - Verifica que CORS esté configurado correctamente

# 4. MIGRACIONES:
#    - Ejecuta `npx prisma migrate deploy` después del primer deployment
#    - Verifica el estado con `npx prisma migrate status`

